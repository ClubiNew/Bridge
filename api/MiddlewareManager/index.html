<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">MiddlewareManager | Bridge</title><meta data-react-helmet="true" property="og:title" content="MiddlewareManager | Bridge"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="The middleware manager allows you to create new [middleware](/api/MiddlewareManager#Middleware).
```lua
local ReplicatedStorage = game:GetService(&quot;ReplicatedStorage&quot;)
local Bridge = require(ReplicatedStorage.Packages.Bridge)

-- In a server script:

local function doubleArgs(...)
    local args = table.pack(...)

    for index, arg in pairs(args) do
        if typeof(arg) == &quot;number&quot; then
            args[index] = arg * 2
        end
    end

    return table.unpack(args)
end

local BadMathMiddleware = Bridge.Middleware.new(&quot;BadMathMiddleware&quot;, {
    events = {&quot;SomeEvent&quot;},
    inboundProcessors = {doubleArgs},
    outboundProcessors = {doubleArgs},
})

function BadMathMiddleware:Add(player, x, y)
    self.Events.SomeEvent:FireAllClients(&quot;Add called!&quot;)
    return x + y
end

Bridge.Middleware.add(BadMathMiddleware)

-- In a local script:

local BadMathMiddleware = Bridge.Middleware.get(&quot;BadMathMiddleware&quot;)

BadMathMiddleware.Events.SomeEvent.OnClientEvent:Connect(function(msg)
    print(msg) --&gt; Add called!
end)

print(BadMathMiddleware:Add(1, 2)) --&gt; 12
```"><meta data-react-helmet="true" property="og:description" content="The middleware manager allows you to create new [middleware](/api/MiddlewareManager#Middleware).
```lua
local ReplicatedStorage = game:GetService(&quot;ReplicatedStorage&quot;)
local Bridge = require(ReplicatedStorage.Packages.Bridge)

-- In a server script:

local function doubleArgs(...)
    local args = table.pack(...)

    for index, arg in pairs(args) do
        if typeof(arg) == &quot;number&quot; then
            args[index] = arg * 2
        end
    end

    return table.unpack(args)
end

local BadMathMiddleware = Bridge.Middleware.new(&quot;BadMathMiddleware&quot;, {
    events = {&quot;SomeEvent&quot;},
    inboundProcessors = {doubleArgs},
    outboundProcessors = {doubleArgs},
})

function BadMathMiddleware:Add(player, x, y)
    self.Events.SomeEvent:FireAllClients(&quot;Add called!&quot;)
    return x + y
end

Bridge.Middleware.add(BadMathMiddleware)

-- In a local script:

local BadMathMiddleware = Bridge.Middleware.get(&quot;BadMathMiddleware&quot;)

BadMathMiddleware.Events.SomeEvent.OnClientEvent:Connect(function(msg)
    print(msg) --&gt; Add called!
end)

print(BadMathMiddleware:Add(1, 2)) --&gt; 12
```"><meta data-react-helmet="true" property="og:url" content="https://Minstrix.github.io/Bridge/api/MiddlewareManager"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="canonical" href="https://Minstrix.github.io/Bridge/api/MiddlewareManager"><link data-react-helmet="true" rel="alternate" href="https://Minstrix.github.io/Bridge/api/MiddlewareManager" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Minstrix.github.io/Bridge/api/MiddlewareManager" hreflang="x-default"><link rel="stylesheet" href="/Bridge/assets/css/styles.302001c7.css">
<link rel="preload" href="/Bridge/assets/js/runtime~main.7b123774.js" as="script">
<link rel="preload" href="/Bridge/assets/js/main.49595ef9.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Bridge/"><b class="navbar__title">Bridge</b></a><a class="navbar__item navbar__link" href="/Bridge/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Bridge/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ClubiNew/Bridge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Press S to Search..." aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docPageContainer_2Kz0"><div class="docPage_1bdk"><div class="docSidebarContainer_1ykS"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bridge/api/Bridge">â€‹Bridge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bridge/api/HookManager">â€‹Hookâ€‹Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Bridge/api/MiddlewareManager">â€‹Middlewareâ€‹Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bridge/api/ServiceManager">â€‹Serviceâ€‹Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bridge/api/Utilities">â€‹Utilities</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_28N5"><div class="container padding-vert--lg"><div class="row"><div class="col docItemCol_3WPG"><div class="docItemContainer_3XDu"><article><div class="member_qHIL markdown"><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3ryM"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><header><h1 class="docTitle_1ddc" style="text-decoration:none"><span style="display:inline-block">Middleware</span><span style="display:inline-block">Manager</span></h1><div class="luaClassTags_2Zrs"></div><div>
<p>The middleware manager allows you to create new <a href="/Bridge/api/MiddlewareManager#Middleware">middleware</a>.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> ReplicatedStorage <span class="token operator">=</span> game<span class="token punctuation">:</span><span class="token function">GetService</span><span class="token punctuation">(</span><span class="token string">"ReplicatedStorage"</span><span class="token punctuation">)</span>
<span class="token keyword">local</span> Bridge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>ReplicatedStorage<span class="token punctuation">.</span>Packages<span class="token punctuation">.</span>Bridge<span class="token punctuation">)</span>

<span class="token comment">-- In a server script:</span>

<span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">doubleArgs</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> args <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> index<span class="token punctuation">,</span> arg <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token keyword">do</span>
        <span class="token keyword">if</span> <span class="token function">typeof</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"number"</span> <span class="token keyword">then</span>
            args<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> arg <span class="token operator">*</span> <span class="token number">2</span>
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token keyword">return</span> table<span class="token punctuation">.</span><span class="token function">unpack</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">local</span> BadMathMiddleware <span class="token operator">=</span> Bridge<span class="token punctuation">.</span>Middleware<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"BadMathMiddleware"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"SomeEvent"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    inboundProcessors <span class="token operator">=</span> <span class="token punctuation">{</span>doubleArgs<span class="token punctuation">}</span><span class="token punctuation">,</span>
    outboundProcessors <span class="token operator">=</span> <span class="token punctuation">{</span>doubleArgs<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> BadMathMiddleware<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>Events<span class="token punctuation">.</span>SomeEvent<span class="token punctuation">:</span><span class="token function">FireAllClients</span><span class="token punctuation">(</span><span class="token string">"Add called!"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token keyword">end</span>

Bridge<span class="token punctuation">.</span>Middleware<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>BadMathMiddleware<span class="token punctuation">)</span>

<span class="token comment">-- In a local script:</span>

<span class="token keyword">local</span> BadMathMiddleware <span class="token operator">=</span> Bridge<span class="token punctuation">.</span>Middleware<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"BadMathMiddleware"</span><span class="token punctuation">)</span>

BadMathMiddleware<span class="token punctuation">.</span>Events<span class="token punctuation">.</span>SomeEvent<span class="token punctuation">.</span>OnClientEvent<span class="token punctuation">:</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token comment">--> Add called!</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>BadMathMiddleware<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">--> 12</span>
</code></pre>
</div></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="types">Types<a aria-hidden="true" class="hash-link" href="#types" title="Direct link to heading">â€‹</a></h2><div class="divider_3z1R"></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="Middleware"><code style="text-decoration:none">Middleware</code><a aria-hidden="true" class="hash-link" href="#Middleware" title="Direct link to heading">â€‹</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/ClubiNew/Bridge/blob/master/src/MiddlewareManager.lua#L66"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code class="purple__nFc">interface</code> <code>Middleware<!-- --> <!-- -->{</code><div class="inset_2cJr"><div><code>Events<!-- -->:Â </code><code class="purple__nFc">{</code><code>string<!-- -->:Â </code><code class="blue_2Afy"><a style="text-decoration:underline;color:inherit" href="https://developer.roblox.com/en-us/api-reference/class/RemoteEvent" target="_blank" rel="noopener noreferrer">RemoteEvent<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" style="color:gray;vertical-align:middle;margin-left:2px"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></code><code class="purple__nFc">}</code></div><div><code>...<!-- -->:Â </code><code class="purple__nFc">(</code><div class="inset_2cJr"><code class="blue_2Afy"><a style="text-decoration:underline;color:inherit" href="/Bridge/api/MiddlewareManager#Middleware">Middleware</a></code><code class="purple__nFc">,</code></div><div class="inset_2cJr"><code class="blue_2Afy">any</code></div><code class="purple__nFc">)</code><code class="purple__nFc">Â â†’Â </code><code class="purple__nFc">(</code><code class="blue_2Afy">any</code><code class="purple__nFc">)</code></div></div><code>}</code></div><div>
<p>Middleware is used to allow for communication between the client and server. Servers <a href="/Bridge/api/MiddlewareManager#add">create the middleware</a> and define events and functions, and then clients <a href="/Bridge/api/MiddlewareManager#">request the middleware</a> and make calls to the functions and listen to the events.</p>
<div class="admonition admonition-note alert alert--secondary">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path>
        </svg></span>note</h5>
  </div>
  <div class="admonition-content">
    <p>Servers can also listen for calls from clients to the events if a response is not necessary, but no inbound/outbound processing will take place.</p>
  </div>
</div>
</div><div class="divider_3z1R"></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="MiddlewareOptions"><code style="text-decoration:none">MiddlewareOptions</code><a aria-hidden="true" class="hash-link" href="#MiddlewareOptions" title="Direct link to heading">â€‹</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/ClubiNew/Bridge/blob/master/src/MiddlewareManager.lua#L85"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code class="purple__nFc">interface</code> <code>MiddlewareOptions<!-- --> <!-- -->{</code><div class="inset_2cJr"><div><code>inboundProcessors<!-- -->:Â </code><code class="purple__nFc">{</code><code class="green_3LnD">(</code><code class="blue_2Afy">...</code><code class="green_3LnD">)</code><code class="green_3LnD">Â â†’Â </code><code class="green_3LnD">(</code><code class="blue_2Afy">...</code><code class="green_3LnD">)</code><code class="purple__nFc">}</code><code class="op_1JtD">Â |Â </code><code class="blue_2Afy">nil</code></div><div><code>outboundProcessors<!-- -->:Â </code><code class="purple__nFc">{</code><code class="green_3LnD">(</code><code class="blue_2Afy">...</code><code class="green_3LnD">)</code><code class="green_3LnD">Â â†’Â </code><code class="green_3LnD">(</code><code class="blue_2Afy">...</code><code class="green_3LnD">)</code><code class="purple__nFc">}</code><code class="op_1JtD">Â |Â </code><code class="blue_2Afy">nil</code></div><div><code>events<!-- -->:Â </code><code class="purple__nFc">{</code><code class="blue_2Afy">string</code><code class="purple__nFc">}</code><code class="op_1JtD">Â |Â </code><code class="blue_2Afy">nil</code></div></div><code>}</code></div><div>
<p>The functions in the <code>inboundProcessors</code> table will be called in order before middleware functions are called. Likewise, the functions in the <code>outboundProcessors</code> table will be called in order before returning data to the client. In each function, you can either throw an error to stop the request from going through, or return the arguments with any modifications for the next processor to use.</p>
<p>Each string in the <code>events</code> table will be turned into a <a href="https://developer.roblox.com/en-us/api-reference/class/RemoteEvent" target="_blank">RemoteEvent</a> in the <a href="/Bridge/api/MiddlewareManager#Middleware">Middleware</a>.</p>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>Processors are bypassed when listening for client calls to the remote events.</p>
  </div>
</div>
</div><h2 class="anchor anchorWithStickyNavbar_31ik" id="functions">Functions<a aria-hidden="true" class="hash-link" href="#functions" title="Direct link to heading">â€‹</a></h2><div class="divider_3z1R"></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="new"><code style="text-decoration:none">new</code><a aria-hidden="true" class="hash-link" href="#new" title="Direct link to heading">â€‹</a></h3><span class="badge_3ZFo" style="color:#00CC67"><span class="badgeTooltip_2qiw">This item only works when running on the server.</span><span class="badgeToolTipTail_2yaQ"><svg fill="#00CC67" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 90 90" role="img" aria-label="This item only works when running on the server."><polygon points="6.125,72.421 58.544,88.523 58.544,24.372 6.125,8.269 "></polygon><polygon points="79.818,15.77 79.868,15.755 29.615,1.453 10.328,6.318 60.102,21.609 "></polygon><path d="M61.643,78.738l22.232-6.582V17.801l-22.232,6.584V78.738z M73.811,69.257c-1.174,0-2.125-1.19-2.125-2.659  c0-1.468,0.951-2.658,2.125-2.658c1.172,0,2.123,1.19,2.123,2.658C75.934,68.066,74.982,69.257,73.811,69.257z M64.898,32.121  l16.336-4.41v7.117l-16.336,4.409V32.121z M64.898,41.292l16.336-4.41v7.116l-16.336,4.409V41.292z M64.898,50.463l16.336-4.411  v7.116l-16.336,4.411V50.463z"></path><polygon points="83.875,74.893 61.643,81.477 61.643,88.547 83.875,81.963 "></polygon></svg> <!-- -->Server</span></span><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/ClubiNew/Bridge/blob/master/src/MiddlewareManager.lua#L102"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>MiddlewareManager<!-- -->.</code><code class="green_3LnD">new</code><code>(</code><div class="inset_2cJr"><div><code>middlewareName<!-- -->:Â </code><code class="blue_2Afy">string</code><code>,</code></div><div><code>middlewareOptions<!-- -->:Â </code><code class="blue_2Afy"><a style="text-decoration:underline;color:inherit" href="/Bridge/api/MiddlewareManager#MiddlewareOptions">MiddlewareOptions</a></code></div></div><code>) â†’Â </code><code class="blue_2Afy"><a style="text-decoration:underline;color:inherit" href="/Bridge/api/MiddlewareManager#Middleware">Middleware</a></code></div><div>
<div class="admonition admonition-note alert alert--secondary">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path>
        </svg></span>note</h5>
  </div>
  <div class="admonition-content">
    <p>It is recommended that you use <code>script.Name</code> as your middleware name.</p>
  </div>
</div>
</div><div class="divider_3z1R"></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="add"><code style="text-decoration:none">add</code><a aria-hidden="true" class="hash-link" href="#add" title="Direct link to heading">â€‹</a></h3><span class="badge_3ZFo" style="color:#00CC67"><span class="badgeTooltip_2qiw">This item only works when running on the server.</span><span class="badgeToolTipTail_2yaQ"><svg fill="#00CC67" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 90 90" role="img" aria-label="This item only works when running on the server."><polygon points="6.125,72.421 58.544,88.523 58.544,24.372 6.125,8.269 "></polygon><polygon points="79.818,15.77 79.868,15.755 29.615,1.453 10.328,6.318 60.102,21.609 "></polygon><path d="M61.643,78.738l22.232-6.582V17.801l-22.232,6.584V78.738z M73.811,69.257c-1.174,0-2.125-1.19-2.125-2.659  c0-1.468,0.951-2.658,2.125-2.658c1.172,0,2.123,1.19,2.123,2.658C75.934,68.066,74.982,69.257,73.811,69.257z M64.898,32.121  l16.336-4.41v7.117l-16.336,4.409V32.121z M64.898,41.292l16.336-4.41v7.116l-16.336,4.409V41.292z M64.898,50.463l16.336-4.411  v7.116l-16.336,4.411V50.463z"></path><polygon points="83.875,74.893 61.643,81.477 61.643,88.547 83.875,81.963 "></polygon></svg> <!-- -->Server</span></span><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/ClubiNew/Bridge/blob/master/src/MiddlewareManager.lua#L132"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>MiddlewareManager<!-- -->.</code><code class="green_3LnD">add</code><code>(</code><code>middleware<!-- -->:Â </code><code class="blue_2Afy"><a style="text-decoration:underline;color:inherit" href="/Bridge/api/MiddlewareManager#Middleware">Middleware</a></code><code>) â†’Â </code><code>(</code><code>)</code></div><div>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>Once middleware has been added to the middleware manager, you can no longer add new methods to it.</p>
  </div>
</div>
</div><div class="divider_3z1R"></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="get"><code style="text-decoration:none">get</code><a aria-hidden="true" class="hash-link" href="#get" title="Direct link to heading">â€‹</a></h3><span class="badge_3ZFo" style="color:#349AD5"><span class="badgeTooltip_2qiw">This item only works when running on the client.</span><span class="badgeToolTipTail_2yaQ"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 337 304" fill="#349AD5" role="img" aria-label="This item only works when running on the client."><path d="M0 201h337v36H0v-36zm0 0zM0 0v188h337V0H0zM218 287h30c12 0 12 17 0 17H88c-11 0-11-17 0-17h31l10-39h79l10 39z"></path></svg> <!-- -->Client</span></span><span class="badge_3ZFo" style="color:#f1c40f"><span class="badgeTooltip_2qiw">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_2yaQ"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/ClubiNew/Bridge/blob/master/src/MiddlewareManager.lua#L214"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>MiddlewareManager<!-- -->.</code><code class="green_3LnD">get</code><code>(</code><code>middlewareName<!-- -->:Â </code><code class="blue_2Afy">string</code><code>) â†’Â </code><code class="blue_2Afy"><a style="text-decoration:underline;color:inherit" href="/Bridge/api/MiddlewareManager#Middleware">Middleware</a></code></div><div>
<div class="admonition admonition-caution alert alert--warning">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
        </svg></span>caution</h5>
  </div>
  <div class="admonition-content">
    <p>This method will yield until the requested <a href="/Bridge/api/MiddlewareManager#Middleware">Middleware</a> is added to the middleware manager. After every 30 seconds of yielding, a warning will be output so you can see which middle wares aren't added correctly.</p>
  </div>
</div>
</div></div></article></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;new&quot;,
            &quot;desc&quot;: &quot;:::note\nIt is recommended that you use `script.Name` as your middleware name.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;middlewareName&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;
                },
                {
                    &quot;name&quot;: &quot;middlewareOptions&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;MiddlewareOptions&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Middleware&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;realm&quot;: [
                &quot;Server&quot;
            ],
            &quot;source&quot;: {
                &quot;line&quot;: 102,
                &quot;path&quot;: &quot;src/MiddlewareManager.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;add&quot;,
            &quot;desc&quot;: &quot;:::caution\nOnce middleware has been added to the middleware manager, you can no longer add new methods to it.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;middleware&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Middleware&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;realm&quot;: [
                &quot;Server&quot;
            ],
            &quot;source&quot;: {
                &quot;line&quot;: 132,
                &quot;path&quot;: &quot;src/MiddlewareManager.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;get&quot;,
            &quot;desc&quot;: &quot;:::caution\nThis method will yield until the requested [Middleware](/api/MiddlewareManager#Middleware) is added to the middleware manager. After every 30 seconds of yielding, a warning will be output so you can see which middle wares aren&#x27;t added correctly.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;middlewareName&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Middleware&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;realm&quot;: [
                &quot;Client&quot;
            ],
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 214,
                &quot;path&quot;: &quot;src/MiddlewareManager.lua&quot;
            }
        }
    ],
    &quot;properties&quot;: [],
    &quot;types&quot;: [
        {
            &quot;name&quot;: &quot;Middleware&quot;,
            &quot;desc&quot;: &quot;Middleware is used to allow for communication between the client and server. Servers [create the middleware](/api/MiddlewareManager#add) and define events and functions, and then clients [request the middleware](/api/MiddlewareManager#) and make calls to the functions and listen to the events.\n:::note\nServers can also listen for calls from clients to the events if a response is not necessary, but no inbound/outbound processing will take place.\n:::&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;Events&quot;,
                    &quot;lua_type&quot;: &quot;{string: RemoteEvent}&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                {
                    &quot;name&quot;: &quot;...&quot;,
                    &quot;lua_type&quot;: &quot;(Middleware, any) -&gt; (any)&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            ],
            &quot;source&quot;: {
                &quot;line&quot;: 66,
                &quot;path&quot;: &quot;src/MiddlewareManager.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;MiddlewareOptions&quot;,
            &quot;desc&quot;: &quot;The functions in the `inboundProcessors` table will be called in order before middleware functions are called. Likewise, the functions in the `outboundProcessors` table will be called in order before returning data to the client. In each function, you can either throw an error to stop the request from going through, or return the arguments with any modifications for the next processor to use.\n\nEach string in the `events` table will be turned into a [RemoteEvent](https://developer.roblox.com/en-us/api-reference/class/RemoteEvent) in the [Middleware](/api/MiddlewareManager#Middleware).\n\n:::caution\nProcessors are bypassed when listening for client calls to the remote events.\n:::&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;inboundProcessors&quot;,
                    &quot;lua_type&quot;: &quot;{(...) -&gt; (...)} | nil&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                {
                    &quot;name&quot;: &quot;outboundProcessors&quot;,
                    &quot;lua_type&quot;: &quot;{(...) -&gt; (...)} | nil&quot;,
                    &quot;desc&quot;: &quot;&quot;
                },
                {
                    &quot;name&quot;: &quot;events&quot;,
                    &quot;lua_type&quot;: &quot;{string} | nil&quot;,
                    &quot;desc&quot;: &quot;&quot;
                }
            ],
            &quot;source&quot;: {
                &quot;line&quot;: 85,
                &quot;path&quot;: &quot;src/MiddlewareManager.lua&quot;
            }
        }
    ],
    &quot;name&quot;: &quot;MiddlewareManager&quot;,
    &quot;desc&quot;: &quot;The middleware manager allows you to create new [middleware](/api/MiddlewareManager#Middleware).\n```lua\nlocal ReplicatedStorage = game:GetService(\&quot;ReplicatedStorage\&quot;)\nlocal Bridge = require(ReplicatedStorage.Packages.Bridge)\n\n-- In a server script:\n\nlocal function doubleArgs(...)\n    local args = table.pack(...)\n\n    for index, arg in pairs(args) do\n        if typeof(arg) == \&quot;number\&quot; then\n            args[index] = arg * 2\n        end\n    end\n\n    return table.unpack(args)\nend\n\nlocal BadMathMiddleware = Bridge.Middleware.new(\&quot;BadMathMiddleware\&quot;, {\n    events = {\&quot;SomeEvent\&quot;},\n    inboundProcessors = {doubleArgs},\n    outboundProcessors = {doubleArgs},\n})\n\nfunction BadMathMiddleware:Add(player, x, y)\n    self.Events.SomeEvent:FireAllClients(\&quot;Add called!\&quot;)\n    return x + y\nend\n\nBridge.Middleware.add(BadMathMiddleware)\n\n-- In a local script:\n\nlocal BadMathMiddleware = Bridge.Middleware.get(\&quot;BadMathMiddleware\&quot;)\n\nBadMathMiddleware.Events.SomeEvent.OnClientEvent:Connect(function(msg)\n    print(msg) --&gt; Add called!\nend)\n\nprint(BadMathMiddleware:Add(1, 2)) --&gt; 12\n```&quot;,
    &quot;source&quot;: {
        &quot;line&quot;: 46,
        &quot;path&quot;: &quot;src/MiddlewareManager.lua&quot;
    }
}</pre></details></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a><ul><li><a href="#Middleware" class="table-of-contents__link toc-highlight">Middleware</a></li><li><a href="#MiddlewareOptions" class="table-of-contents__link toc-highlight">MiddlewareOptions</a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#add" class="table-of-contents__link toc-highlight">.add</a></li><li><a href="#get" class="table-of-contents__link toc-highlight">.get</a></li><li><a href="#new" class="table-of-contents__link toc-highlight">.new</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Minstrix. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/Bridge/assets/js/runtime~main.7b123774.js"></script>
<script src="/Bridge/assets/js/main.49595ef9.js"></script>
</body>
</html>